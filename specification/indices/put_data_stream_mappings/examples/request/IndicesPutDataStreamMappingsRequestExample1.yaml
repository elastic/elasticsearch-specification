summary: Change a data stream setting
method_request: PUT /_data_stream/my-data-stream/_mappings
description: >
  This is a request to add or modify two fields in a mapping on a data stream.
# type: request
value: |-
  {
     "properties":{
        "field1":{
           "type":"ip"
        },
        "field3":{
           "type":"text"
        }
     }
  }
alternatives:
  - language: Python
    code: |-
      resp = client.indices.put_data_stream_mappings(
          name="my-data-stream",
          mappings={
              "properties":{
                 "field1":{
                    "type":"ip"
                 },
                 "field3":{
                    "type":"text"
                 }
              }
          },
      )
  - language: JavaScript
    code: |-
      const response = await client.indices.putDataStreamSettings({
        name: "my-data-stream",
        mappings: {
            "properties":{
               "field1":{
                  "type":"ip"
               },
               "field3":{
                  "type":"text"
               }
            }
        },
      });
  - language: Ruby
    code: |-
      response = client.indices.put_data_stream_mappings(
        name: "my-data-stream",
        body: {
            "properties":{
               "field1":{
                  "type":"ip"
               },
               "field3":{
                  "type":"text"
               }
            }
        }
      )
  - language: PHP
    code: |-
      $resp = $client->indices()->putDataStreamSettings([
          "name" => "my-data-stream",
          "body" => [
              "properties" => [
                 "field1" => [
                    "type" => "ip"
                 ],
                 "field3" => [
                    "type" => "text"
                 ]
              ]
          ],
      ]);
  - language: curl
    code:
      'curl -X PUT -H "Authorization: ApiKey $ELASTIC_API_KEY" -H "Content-Type: application/json" -d
      ''{"index.lifecycle.name":"new-test-policy","index.number_of_shards":11}''
      "$ELASTICSEARCH_URL/_data_stream/my-data-stream/_mappings"'
